<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>The Ultimate Daily Game Collection</title>
  <link rel="icon" type="image/png" href="/rdatasquared/02_active/images/2025-12-25_RDataSquared_Logo-removebg-preview.png">
  <style>
    :root{
      --bg:#f5f5f5;
      --card:#ffffff;
      --text:#1f2937;
      --muted:#6b7280;
      --shadow:0 10px 24px rgba(0,0,0,.10);
      --gold:#d4a017;
      --gold2:#b88910;
      --chip:#3f3f3f;
      --chipHover:#4a4a4a;
      --radius:16px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      background:var(--bg);
      color:var(--text);
    }
    header{
      padding:42px 16px 18px;
      text-align:center;
    }
    h1{
      margin:0 0 10px;
      font-size: clamp(32px, 4vw, 54px);
      letter-spacing:.3px;
    }
    .subtitle{
      margin:0;
      color:var(--muted);
      font-size: 15px;
    }
    .wrap{
      max-width:980px;
      margin:0 auto;
      padding: 0 14px 60px;
    }

    .section{
      background:var(--card);
      box-shadow:var(--shadow);
      border-radius:var(--radius);
      padding: 22px 22px 26px;
      margin: 18px 0;
    }
    .sectionHeader{
      display:flex;
      align-items:center;
      gap:12px;
      padding: 8px 2px 14px;
      border-bottom: 2px solid rgba(212,160,23,.55);
      margin-bottom: 18px;
    }
    .icon{
      width:22px;height:22px;display:inline-flex;
      align-items:center;justify-content:center;
      color:var(--gold2);
      flex: 0 0 auto;
    }
    .sectionTitle{
      font-size: 26px;
      margin:0;
    }

    /* Toolbar */
    .toolbar{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
      margin: 8px 0 18px;
    }
    .search{
      flex: 1 1 280px;
      position:relative;
    }
    .search input{
      width:100%;
      padding:12px 12px 12px 40px;
      border-radius: 12px;
      border:1px solid #e5e7eb;
      outline:none;
      background:#fff;
      font-size:14px;
    }
    .search svg{
      position:absolute; left:12px; top:50%;
      transform:translateY(-50%);
      width:18px;height:18px;
      color:#9ca3af;
    }
    .actions{
      display:flex;
      gap:10px;
      flex: 0 1 auto;
    }
    .btn{
      border:1px solid #e5e7eb;
      background:#fff;
      color:#111827;
      padding:10px 12px;
      border-radius:12px;
      font-size:14px;
      cursor:pointer;
      transition: transform .06s ease, background .15s ease, border-color .15s ease;
      display:inline-flex;
      gap:8px;
      align-items:center;
    }
    .btn:hover{ background:#fafafa; border-color:#d1d5db; }
    .btn:active{ transform: translateY(1px); }
    .btnDanger{
      border-color: rgba(239,68,68,.25);
      color:#b91c1c;
    }
    .btnDanger:hover{ background: rgba(239,68,68,.06); }

    /* Cards grid */
    .grid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 14px 16px;
    }
    @media (max-width:720px){
      .grid{ grid-template-columns: 1fr; }
    }

    .gameCard{
      position:relative;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding: 16px 16px;
      border-radius: 14px;
      background: linear-gradient(180deg, var(--chip), #353535);
      color:#fff;
      min-height:64px;
      box-shadow: 0 8px 18px rgba(0,0,0,.18);
      transition: transform .12s ease, filter .12s ease;
      border: 1px solid rgba(255,255,255,.08);
      cursor:pointer;
      user-select:none;
      outline:none;
    }
    .gameCard:hover{
      transform: translateY(-1px);
      filter: brightness(1.02);
      background: linear-gradient(180deg, var(--chipHover), #3a3a3a);
    }
    .gameCard:focus-visible{
      box-shadow: 0 0 0 3px rgba(212,160,23,.55), 0 8px 18px rgba(0,0,0,.18);
    }

    /* Starred section card styling */
    .gameCard.starredCard{
      background: linear-gradient(180deg, var(--gold), var(--gold2));
      border-color: rgba(255,255,255,.25);
    }

    .left{
      display:flex;
      flex-direction:column;
      gap:3px;
      min-width: 0;
    }
    .nameRow{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }
    .gameName{
      font-size: 16px;
      font-weight:700;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      min-width:0;
    }
    .tag{
      font-size: 11px;
      color: rgba(255,255,255,.85);
      background: rgba(0,0,0,.18);
      padding: 4px 8px;
      border-radius: 999px;
      flex: 0 0 auto;
    }
    .desc{
      font-size: 12px;
      color: rgba(255,255,255,.88);
      opacity:.92;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width: 46ch;
    }

    .right{
      display:flex;
      align-items:center;
      gap:8px;
      flex: 0 0 auto;
    }

    /* Star button */
    .iconBtn{
      width:38px;height:38px;
      border-radius: 11px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.14);
      cursor:pointer;
      transition: transform .06s ease, background .12s ease, border-color .12s ease;
      color:#fff;
      font-size: 18px;
      line-height: 1;
      user-select:none;
    }
    .iconBtn:hover{
      background: rgba(0,0,0,.22);
      border-color: rgba(255,255,255,.28);
    }
    .iconBtn:active{ transform: translateY(1px); }
    .iconBtn.starred{
      color: #ffd34a;
      text-shadow: 0 0 10px rgba(255,211,74,.35);
    }

    .empty{
      color: var(--muted);
      font-size:14px;
      padding: 10px 2px 0;
      display:none;
    }
    .hint{
      color: var(--muted);
      font-size: 13px;
      margin: 10px 0 0;
    }

    /* simple toast */
    .toast{
      position:fixed;
      left:50%;
      bottom:18px;
      transform: translateX(-50%);
      background: rgba(17,24,39,.92);
      color:#fff;
      padding: 10px 12px;
      border-radius: 999px;
      font-size: 13px;
      display:none;
      gap:8px;
      align-items:center;
      box-shadow: 0 10px 24px rgba(0,0,0,.22);
      z-index: 50;
    }
    .toast.show{ display:flex; }
    .toast svg{ width:16px;height:16px; opacity:.9; }
  </style>
</head>
<body>
  <header>
    <h1>The Ultimate Daily Game Collection</h1>
    <p class="subtitle">Star your favorites to keep them handy (saved only on your device)</p>
  </header>

  <div class="wrap">
    <div class="toolbar">
      <div class="search">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z" stroke="currentColor" stroke-width="2"/>
          <path d="M16.5 16.5 21 21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <input id="searchInput" type="search" placeholder="Search gamesâ€¦" autocomplete="off" />
      </div>
      <div class="actions">
        <button class="btn" id="exportBtn" title="Copy starred list to clipboard">
          <span>Export stars</span>
        </button>
        <button class="btn btnDanger" id="clearStarsBtn" title="Remove all stars (only for you)">
          <span>Clear stars</span>
        </button>
      </div>
    </div>

    <div id="sections"></div>

    <p class="hint">
      ðŸ’¡ Tip: Click a card to open the game (always opens in a new tab). Stars save only on your device.
    </p>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite">
    <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
      <path d="M20 6 9 17l-5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <span id="toastText">Saved</span>
  </div>

  <script>
    /***********************
     * CONFIG
     ***********************/
    const SHOW_STARRED_SECTION = true; // keep your current behavior

    /***********************
     * 1) EDIT YOUR GAMES
     ***********************/
    const GAMES = [
      { id: "moviedle", name: "Moviedle", url: "https://pix-media.com/games/moviedle", desc: "Can you name the movie in 6 seconds or less?", tags: ["Daily"] },
      { id: "moviedle2", name: "Moviedle 2", url: "https://moviedle.xyz/", desc: "Guess today's movie by exploring its cast, directors, genres and when it was released.", tags: ["Daily"] },
      { id: "cine2nerdle", name: "Cine2Nerdle", url: "https://www.cinenerdle2.app/", desc: "Movie equation puzzle", tags: ["Daily"] },
      { id: "framed", name: "Framed", url: "https://framed.wtf/", desc: "Guess the movie from a frame", tags: ["Daily"] },
      { id: "episode", name: "Episode", url: "https://episode.wtf/", desc: "Guess the TV episode from stills", tags: ["Daily"] },
      { id: "plotwords", name: "Plotwords", url: "https://plotwords.com/daily", desc: "Guess the name of the movie using as few plot keywords as possible!", tags: ["Daily"] },
      { id: "gaps", name: "Gaps", url: "https://gaps.wtf/", desc: "Guess the name of the movie!", tags: ["Daily"] },

      { id: "decipher", name: "Decipher", url: "https://decipher.wtf/", desc: "Decipher the hidden message", tags: ["Daily"] },
      { id: "spots", name: "Spots", url: "https://spots.wtf/", desc: "Your goal is to guess the secret 4-color code. There are 6 possible colors:", tags: ["Daily"] },

      { id: "wordle", name: "Wordle", url: "https://www.nytimes.com/games/wordle/index.html", desc: "Classic daily word puzzle", tags: ["Daily"] },
      { id: "connections", name: "Connections", url: "https://www.nytimes.com/games/connections", desc: "Create four groups of four!", tags: ["Daily"] },
      { id: "strands", name: "Strands", url: "https://www.nytimes.com/games/strands", desc: "Find hidden words and uncover the dayâ€™s theme.", tags: ["Daily"] },
      { id: "spellingbee", name: "Spelling Bee", url: "https://www.nytimes.com/puzzles/spelling-bee", desc: "Make words from a letter hive", tags: ["Daily"] },

      { id: "contexto", name: "Contexto", url: "https://contexto.me/", desc: "Find the secret word by similarity", tags: ["Daily"] },
      { id: "linkedIn", name: "LinkedIn Games", url: "https://www.linkedin.com/games/", desc: "Prep your mind for the workday and compare results.", tags: ["Daily"] },
    ];

    /***********************
     * 2) STAR STORAGE (per user)
     * - Store as an ARRAY to preserve "star order"
     ***********************/
    const STORAGE_KEY = "ultimateDailyGames:stars:v2";

    function loadStars() {
      try {
        const raw = localStorage.getItem(STORAGE_KEY);
        const arr = raw ? JSON.parse(raw) : [];
        return Array.isArray(arr) ? arr : [];
      } catch {
        return [];
      }
    }

    function saveStars(starArray) {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(starArray));
    }

    // IMPORTANT: stars is an ARRAY in "star order"
    let stars = loadStars();

    /***********************
     * 3) SORTING + SEARCH
     ***********************/
    function normalize(s) {
      return (s || "").toLowerCase().trim();
    }

    function sortAZ(list) {
      return list.slice().sort((a,b) => a.name.localeCompare(b.name));
    }

    let query = "";

    function matchesQuery(game) {
      if (!query) return true;
      const hay = normalize(`${game.name} ${game.desc || ""} ${(game.tags || []).join(" ")}`);
      return hay.includes(query);
    }

    function gameById(id) {
      return GAMES.find(g => g.id === id) || null;
    }

    /***********************
     * 4) RENDERING
     ***********************/
    const sectionsEl = document.getElementById("sections");
    const searchInput = document.getElementById("searchInput");
    const clearStarsBtn = document.getElementById("clearStarsBtn");
    const exportBtn = document.getElementById("exportBtn");

    function buildSection({ title, icon, games }, { cardStyle = "normal", emptyText } = {}) {
      const container = document.createElement("section");
      container.className = "section";

      const header = document.createElement("div");
      header.className = "sectionHeader";

      const iconEl = document.createElement("div");
      iconEl.className = "icon";
      iconEl.textContent = icon || "ðŸŽ®";

      const titleEl = document.createElement("h2");
      titleEl.className = "sectionTitle";
      titleEl.textContent = title;

      header.appendChild(iconEl);
      header.appendChild(titleEl);

      const grid = document.createElement("div");
      grid.className = "grid";

      const filtered = games.filter(matchesQuery);

      for (const game of filtered) {
        grid.appendChild(buildCard(game, { cardStyle }));
      }

      const empty = document.createElement("div");
      empty.className = "empty";
      empty.textContent = emptyText || "No games match your search.";
      empty.style.display = filtered.length ? "none" : "block";

      container.appendChild(header);
      container.appendChild(grid);
      container.appendChild(empty);

      return container;
    }

    function buildCard(game, { cardStyle = "normal" } = {}) {
      const card = document.createElement("div");
      card.className = "gameCard";
      card.setAttribute("role", "link");
      card.setAttribute("tabindex", "0");
      card.setAttribute("aria-label", `Open ${game.name} in a new tab`);

      if (cardStyle === "starred") card.classList.add("starredCard");

      const left = document.createElement("div");
      left.className = "left";

      const nameRow = document.createElement("div");
      nameRow.className = "nameRow";

      const name = document.createElement("div");
      name.className = "gameName";
      name.textContent = game.name;

      nameRow.appendChild(name);

      if (game.tags && game.tags.length) {
        const tag = document.createElement("span");
        tag.className = "tag";
        tag.textContent = game.tags[0];
        nameRow.appendChild(tag);
      }

      const desc = document.createElement("div");
      desc.className = "desc";
      desc.textContent = game.desc || "";

      left.appendChild(nameRow);
      left.appendChild(desc);

      const right = document.createElement("div");
      right.className = "right";

      const starBtn = document.createElement("button");
      starBtn.className = "iconBtn";
      starBtn.type = "button";

      const isStarred = stars.includes(game.id);
      if (isStarred) starBtn.classList.add("starred");

      starBtn.title = isStarred ? "Unstar" : "Star";
      starBtn.setAttribute("aria-label", starBtn.title);
      starBtn.textContent = isStarred ? "â­" : "â˜†";

      // prevent navigation when clicking star
      starBtn.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();
        toggleStar(game.id);
      });

      right.appendChild(starBtn);

      card.appendChild(left);
      card.appendChild(right);

      // Card click opens in NEW TAB
      card.addEventListener("click", (e) => {
        if (e.target.closest("button")) return;
        window.open(game.url, "_blank", "noopener,noreferrer");
      });

      // Keyboard support opens in NEW TAB
      card.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          window.open(game.url, "_blank", "noopener,noreferrer");
        }
      });

      return card;
    }

    function render() {
      sectionsEl.innerHTML = "";

      const allSorted = sortAZ(GAMES);

      // â­ Starred section: NOT alphabetical.
      // It follows the saved "stars" array order (order starred).
      if (SHOW_STARRED_SECTION) {
        const starredInStarOrder = stars
          .map(id => gameById(id))
          .filter(Boolean);

        if (starredInStarOrder.length) {
          sectionsEl.appendChild(
            buildSection(
              { title: "Starred", icon: "â­", games: starredInStarOrder },
              { cardStyle: "starred", emptyText: "No starred games match your search." }
            )
          );
        }
      }

      // All games: alphabetically sorted
      sectionsEl.appendChild(
        buildSection(
          { title: "All Games (Aâ€“Z)", icon: "ðŸŽ®", games: allSorted },
          { cardStyle: "normal", emptyText: "No games match your search." }
        )
      );
    }

    /***********************
     * 5) INTERACTIONS
     ***********************/
    function toggleStar(gameId) {
      const idx = stars.indexOf(gameId);

      if (idx !== -1) {
        stars.splice(idx, 1); // remove, preserve order of remaining
        toast("Unstarred");
      } else {
        stars.push(gameId); // append to end -> preserves "star order"
        toast("Starred");
      }

      saveStars(stars);
      render();
    }

    searchInput.addEventListener("input", () => {
      query = normalize(searchInput.value);
      render();
    });

    clearStarsBtn.addEventListener("click", () => {
      stars = [];
      saveStars(stars);
      render();
      toast("Cleared stars");
    });

    exportBtn.addEventListener("click", async () => {
      // export in star order too
      const starredInStarOrder = stars
        .map(id => gameById(id))
        .filter(Boolean);

      const lines = starredInStarOrder.map(g => `${g.name} â€” ${g.url}`);

      const text =
        lines.length
          ? `My starred games:\n\n${lines.join("\n")}\n`
          : "No starred games yet.";

      try {
        await navigator.clipboard.writeText(text);
        toast("Copied stars");
      } catch {
        window.prompt("Copy your starred list:", text);
      }
    });

    /***********************
     * 6) TOAST
     ***********************/
    const toastEl = document.getElementById("toast");
    const toastText = document.getElementById("toastText");
    let toastTimer = null;

    function toast(message) {
      toastText.textContent = message;
      toastEl.classList.add("show");
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => toastEl.classList.remove("show"), 1400);
    }

    render();
  </script>
</body>
</html>
